[{"age": null, "album": "", "artist": null, "bookmarked": false, "comments": [], "date_published": "2024-08-17T05:12:47+00:00", "description": "<p><strong><a href=\"https://github.com/simonw/python-lib/issues/9\">Upgrading my cookiecutter templates to use python -m pytest</a></strong></p>\nEvery now and then I get caught out by weird test failures when I run <code>pytest</code> and it turns out I'm running the wrong installation of that tool, so my tests fail because that <code>pytest</code> is executing in a different virtual environment from the one needed by the tests.</p>\n<p>The fix for this is easy: run <code>python -m pytest</code> instead, which guarantees that you will run <code>pytest</code> in the same environment as your currently active Python.</p>\n<p>Yesterday I went through and updated every one of my <code>cookiecutter</code> templates (<a href=\"https://github.com/simonw/python-lib\">python-lib</a>, <a href=\"https://github.com/simonw/click-app\">click-app</a>, <a href=\"https://github.com/simonw/datasette-plugin\">datasette-plugin</a>, <a href=\"https://github.com/simonw/sqlite-utils-plugin\">sqlite-utils-plugin</a>, <a", "id": 1014875, "language": "en-us", "link": "https://simonwillison.net/2024/Aug/17/python-m-pytest/#atom-everything", "manual_status_code": 0, "page_rating": 29, "page_rating_contents": 90, "page_rating_visits": 0, "page_rating_votes": 0, "permanent": false, "source": "https://simonwillison.net/atom/everything", "source_obj__id": 423, "status_code": 0, "tags": [], "thumbnail": null, "title": "Upgrading my cookiecutter templates to use python -m pytest", "user": null, "vote": 0}]